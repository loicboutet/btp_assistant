<% content_for :title, "Mes Clients - Devis WhatsApp" %>

<div class="admin-page-header">
  <div>
    <h1>Mes Clients</h1>
    <p class="text-muted">Gérez tous vos clients et leurs coordonnées</p>
  </div>
</div>

<!-- Statistics Cards -->
<div class="stats-grid" style="margin-bottom: var(--spacing-lg);">
  <div class="stat-card">
    <div class="stat-icon bg-blue">
      <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
        <circle cx="9" cy="7" r="4"></circle>
        <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
      </svg>
    </div>
    <div class="stat-content">
      <div class="stat-value">18</div>
      <div class="stat-label">Clients actifs</div>
      <div class="stat-change positive">+5 ce mois-ci</div>
    </div>
  </div>

  <div class="stat-card">
    <div class="stat-icon bg-green">
      <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
        <polyline points="14 2 14 8 20 8"></polyline>
      </svg>
    </div>
    <div class="stat-content">
      <div class="stat-value">42</div>
      <div class="stat-label">Devis envoyés</div>
      <div class="stat-change neutral">Total</div>
    </div>
  </div>

  <div class="stat-card">
    <div class="stat-icon bg-purple">
      <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
        <polyline points="14 2 14 8 20 8"></polyline>
        <line x1="9" y1="15" x2="15" y2="15"></line>
      </svg>
    </div>
    <div class="stat-content">
      <div class="stat-value">28</div>
      <div class="stat-label">Factures émises</div>
      <div class="stat-change neutral">Total</div>
    </div>
  </div>

  <div class="stat-card">
    <div class="stat-icon bg-orange">
      <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="12" y1="1" x2="12" y2="23"></line>
        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
      </svg>
    </div>
    <div class="stat-content">
      <div class="stat-value">3 247 €</div>
      <div class="stat-label">CA moyen / client</div>
      <div class="stat-change positive">+8% ce mois</div>
    </div>
  </div>
</div>

<!-- Filters -->
<div class="admin-card" style="margin-bottom: var(--spacing-lg);">
  <div class="filters-bar">
    <div class="search-box">
      <input type="text" class="form-input" placeholder="Rechercher un client...">
    </div>
    <div class="filter-group">
      <select class="form-select">
        <option>Toutes les villes</option>
        <option>Paris</option>
        <option>Lyon</option>
        <option>Marseille</option>
        <option>Toulouse</option>
      </select>
    </div>
    <div class="filter-group">
      <select class="form-select">
        <option>Tous les types</option>
        <option>Entreprises</option>
        <option>Particuliers</option>
        <option>Copropriétés</option>
      </select>
    </div>
  </div>
</div>

<!-- Clients Table -->
<div class="admin-card">
  <div class="card-header">
    <h2>Liste des Clients</h2>
  </div>
  <div style="overflow-x: auto;">
    <table class="admin-table">
      <thead>
        <tr>
          <th>Client</th>
          <th>Contact</th>
          <th>Adresse</th>
          <th>Documents</th>
          <th>CA Total</th>
          <th style="text-align: right;">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <div><strong>Entreprise Dubois</strong></div>
            <div class="text-muted small">SIRET: 123 456 789 00012</div>
          </td>
          <td>
            <div>Marie Dubois</div>
            <div class="text-muted small">+33 6 98 76 54 32</div>
            <div class="text-muted small">m.dubois@entreprise-dubois.fr</div>
          </td>
          <td>
            <div>15 rue de la Paix</div>
            <div class="text-muted small">69001 Lyon</div>
          </td>
          <td>
            <div><strong>8 docs</strong></div>
            <div class="text-muted small">5 devis, 3 factures</div>
          </td>
          <td><strong>42 350 €</strong></td>
          <td style="text-align: right;">
            <div class="action-buttons">
              <%= link_to client_path(1), class: "btn btn-xs btn-outline" do %>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="14" height="14" style="display: inline-block; vertical-align: middle; margin-right: 4px;">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" />
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                <span>Voir</span>
              <% end %>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div><strong>Martin SAS</strong></div>
            <div class="text-muted small">SIRET: 987 654 321 00034</div>
          </td>
          <td>
            <div>Pierre Martin</div>
            <div class="text-muted small">+33 6 45 78 91 23</div>
            <div class="text-muted small">contact@martin-sas.com</div>
          </td>
          <td>
            <div>89 avenue des Champs</div>
            <div class="text-muted small">75008 Paris</div>
          </td>
          <td>
            <div><strong>12 docs</strong></div>
            <div class="text-muted small">7 devis, 5 factures</div>
          </td>
          <td><strong>38 920 €</strong></td>
          <td style="text-align: right;">
            <div class="action-buttons">
              <%= link_to client_path(2), class: "btn btn-xs btn-outline" do %>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="14" height="14" style="display: inline-block; vertical-align: middle; margin-right: 4px;">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" />
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                <span>Voir</span>
              <% end %>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div><strong>Résidence Les Pins</strong></div>
            <div class="text-muted small">Copropriété</div>
          </td>
          <td>
            <div>Sophie Bernard (Syndic)</div>
            <div class="text-muted small">+33 6 23 45 67 89</div>
            <div class="text-muted small">syndic@residence-lespins.fr</div>
          </td>
          <td>
            <div>42 boulevard de la Mer</div>
            <div class="text-muted small">13008 Marseille</div>
          </td>
          <td>
            <div><strong>6 docs</strong></div>
            <div class="text-muted small">4 devis, 2 factures</div>
          </td>
          <td><strong>28 940 €</strong></td>
          <td style="text-align: right;">
            <div class="action-buttons">
              <%= link_to client_path(3), class: "btn btn-xs btn-outline" do %>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="14" height="14" style="display: inline-block; vertical-align: middle; margin-right: 4px;">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" />
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                <span>Voir</span>
              <% end %>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div><strong>Société Bertrand</strong></div>
            <div class="text-muted small">SIRET: 456 789 123 00056</div>
          </td>
          <td>
            <div>Jean Bertrand</div>
            <div class="text-muted small">+33 6 12 34 56 78</div>
            <div class="text-muted small">j.bertrand@bertrand-sarl.fr</div>
          </td>
          <td>
            <div>28 rue Victor Hugo</div>
            <div class="text-muted small">31000 Toulouse</div>
          </td>
          <td>
            <div><strong>5 docs</strong></div>
            <div class="text-muted small">3 devis, 2 factures</div>
          </td>
          <td><strong>15 680 €</strong></td>
          <td style="text-align: right;">
            <div class="action-buttons">
              <%= link_to client_path(4), class: "btn btn-xs btn-outline" do %>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="14" height="14" style="display: inline-block; vertical-align: middle; margin-right: 4px;">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" />
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                <span>Voir</span>
              <% end %>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div><strong>Copropriété Soleil</strong></div>
            <div class="text-muted small">Copropriété</div>
          </td>
          <td>
            <div>Laurent Moreau (Syndic)</div>
            <div class="text-muted small">+33 6 87 65 43 21</div>
            <div class="text-muted small">syndic@coprosoleil.fr</div>
          </td>
          <td>
            <div>12 promenade des Anglais</div>
            <div class="text-muted small">06000 Nice</div>
          </td>
          <td>
            <div><strong>10 docs</strong></div>
            <div class="text-muted small">6 devis, 4 factures</div>
          </td>
          <td><strong>52 180 €</strong></td>
          <td style="text-align: right;">
            <div class="action-buttons">
              <%= link_to client_path(5), class: "btn btn-xs btn-outline" do %>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="14" height="14" style="display: inline-block; vertical-align: middle; margin-right: 4px;">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" />
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                <span>Voir</span>
              <% end %>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  <div class="pagination">
    <button class="btn btn-secondary btn-sm" disabled>
      <svg width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"/>
      </svg>
      Précédent
    </button>
    <span class="pagination-info">Page 1 sur 4</span>
    <button class="btn btn-secondary btn-sm">
      Suivant
      <svg width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/>
      </svg>
    </button>
  </div>
</div>
