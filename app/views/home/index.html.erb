<% content_for :title, "Routes - Devis WhatsApp" %>

<div class="min-h-screen bg-gray-50 p-8">
  <div class="max-w-7xl mx-auto">
    
    <!-- Header -->
    <div class="text-center mb-12">
      <%= image_tag "logo.png", alt: "Devis WhatsApp", class: "h-16 mx-auto mb-4" %>
      <h1 class="text-4xl font-bold text-gray-900 mb-2">Devis WhatsApp</h1>
      <p class="text-xl text-gray-600">Routes de l'Application - Bot-First Architecture</p>
    </div>

    <div class="grid md:grid-cols-2 gap-8">
      
      <!-- USER JOURNEY -->
      <div class="bg-white rounded-xl shadow-lg border-2 border-green-500 p-8">
        <div class="flex items-center mb-6">
          <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mr-4">
            <svg class="w-7 h-7 text-green-600" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <div>
            <h2 class="text-3xl font-bold text-gray-900">User Journey</h2>
            <p class="text-sm text-gray-600">Interface Client (Artisan)</p>
          </div>
        </div>

        <!-- Dashboard -->
        <div class="mb-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3 flex items-center">
            <span class="text-xl mr-2">üè†</span> Dashboard
          </h3>
          <ul class="space-y-2 ml-8 text-sm">
            <li>
              <%= link_to client_dashboard_path, class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/dashboard</span>
                <span class="text-gray-500 text-xs ml-2">‚Üí 3 cards menu</span>
              <% end %>
            </li>
          </ul>
        </div>

        <!-- Quotes -->
        <div class="mb-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3 flex items-center">
            <span class="text-xl mr-2">üìÑ</span> Devis
          </h3>
          <ul class="space-y-2 ml-8 text-sm">
            <li>
              <%= link_to quotes_path, class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/quotes</span>
                <span class="text-gray-500 text-xs ml-2">‚Üí Liste</span>
              <% end %>
            </li>
            <li>
              <%= link_to quote_path(1), class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/quotes/:id</span>
                <span class="text-gray-500 text-xs ml-2">‚Üí Voir & √©diter</span>
              <% end %>
            </li>
            <li>
              <%= link_to pdf_quote_path(1), class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/quotes/:id/pdf</span>
                <span class="text-gray-500 text-xs ml-2">‚Üí Download PDF</span>
              <% end %>
            </li>
          </ul>
        </div>

        <!-- Invoices -->
        <div class="mb-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3 flex items-center">
            <span class="text-xl mr-2">üßæ</span> Factures
          </h3>
          <ul class="space-y-2 ml-8 text-sm">
            <li>
              <%= link_to invoices_path, class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/invoices</span>
              <% end %>
            </li>
            <li>
              <%= link_to invoice_path(1), class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/invoices/:id</span>
              <% end %>
            </li>
            <li>
              <%= link_to pdf_invoice_path(1), class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/invoices/:id/pdf</span>
              <% end %>
            </li>
          </ul>
        </div>

        <!-- Clients -->
        <div class="mb-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3 flex items-center">
            <span class="text-xl mr-2">üë•</span> Clients
          </h3>
          <ul class="space-y-2 ml-8 text-sm">
            <li>
              <%= link_to clients_path, class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/clients</span>
              <% end %>
            </li>
            <li>
              <%= link_to client_path(1), class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/clients/:id</span>
              <% end %>
            </li>
            <li>
              <%= link_to edit_client_path(1), class: "text-blue-600 hover:underline" do %>
                <code class="bg-yellow-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/clients/:id/edit</span>
              <% end %>
            </li>
          </ul>
        </div>

        <!-- Profile & Subscription -->
        <div class="mb-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3 flex items-center">
            <span class="text-xl mr-2">‚öôÔ∏è</span> Compte
          </h3>
          <ul class="space-y-2 ml-8 text-sm">
            <li>
              <%= link_to client_profile_path, class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/profile</span>
              <% end %>
            </li>
            <li>
              <code class="bg-green-100 px-2 py-1 rounded text-xs">POST</code>
              <span class="ml-2">/subscription/portal</span>
              <span class="text-gray-500 text-xs ml-2">‚Üí Stripe</span>
            </li>
          </ul>
        </div>

        <!-- Note -->
        <div class="bg-green-50 border border-green-200 rounded-lg p-4">
          <p class="text-sm text-gray-700">
            <strong>üí¨ WhatsApp-First :</strong> Cr√©ation via WhatsApp, consultation/modification via web.
          </p>
        </div>
      </div>

      <!-- ADMIN JOURNEY -->
      <div class="bg-white rounded-xl shadow-lg border-2 border-purple-500 p-8">
        <div class="flex items-center mb-6">
          <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mr-4">
            <svg class="w-7 h-7 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
            </svg>
          </div>
          <div>
            <h2 class="text-3xl font-bold text-gray-900">Admin Journey</h2>
            <p class="text-sm text-gray-600">Interface Administrateur</p>
          </div>
        </div>

        <!-- Dashboard -->
        <div class="mb-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3 flex items-center">
            <span class="text-xl mr-2">üìä</span> Dashboard
          </h3>
          <ul class="space-y-2 ml-8 text-sm">
            <li>
              <%= link_to admin_dashboard_path, class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/admin</span>
              <% end %>
            </li>
            <li>
              <%= link_to admin_metrics_path, class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/admin/metrics</span>
              <% end %>
            </li>
          </ul>
        </div>

        <!-- Users -->
        <div class="mb-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3 flex items-center">
            <span class="text-xl mr-2">üë•</span> Utilisateurs
          </h3>
          <ul class="space-y-2 ml-8 text-sm">
            <li>
              <%= link_to admin_users_path, class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/admin/users</span>
              <% end %>
            </li>
            <li>
              <%= link_to admin_user_path(1), class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/admin/users/:id</span>
              <% end %>
            </li>
            <li>
              <%= link_to edit_admin_user_path(1), class: "text-blue-600 hover:underline" do %>
                <code class="bg-yellow-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/admin/users/:id/edit</span>
              <% end %>
            </li>
            <li>
              <%= link_to logs_admin_user_path(1), class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/admin/users/:id/logs</span>
              <% end %>
            </li>
          </ul>
        </div>

        <!-- Subscriptions -->
        <div class="mb-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3 flex items-center">
            <span class="text-xl mr-2">üí≥</span> Abonnements
          </h3>
          <ul class="space-y-2 ml-8 text-sm">
            <li>
              <%= link_to admin_subscriptions_path, class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/admin/subscriptions</span>
              <% end %>
            </li>
            <li>
              <%= link_to admin_subscription_path(1), class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/admin/subscriptions/:id</span>
              <% end %>
            </li>
            <li>
              <%= link_to overdue_admin_subscriptions_path, class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/admin/subscriptions/overdue</span>
              <% end %>
            </li>
          </ul>
        </div>

        <!-- Logs -->
        <div class="mb-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3 flex items-center">
            <span class="text-xl mr-2">üìã</span> Logs
          </h3>
          <ul class="space-y-2 ml-8 text-sm">
            <li>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/admin/logs/:id</span>
            </li>
          </ul>
        </div>

        <!-- Webhooks -->
        <div class="mb-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3 flex items-center">
            <span class="text-xl mr-2">üîó</span> Webhooks
          </h3>
          <ul class="space-y-2 ml-8 text-sm">
            <li>
              <%= link_to admin_webhooks_path, class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/admin/webhooks</span>
              <% end %>
            </li>
          </ul>
        </div>

        <!-- Settings -->
        <div class="mb-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3 flex items-center">
            <span class="text-xl mr-2">‚öôÔ∏è</span> Param√®tres
          </h3>
          <ul class="space-y-2 ml-8 text-sm">
            <li>
              <%= link_to admin_settings_path, class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/admin/settings</span>
              <% end %>
            </li>
            <li>
              <%= link_to admin_settings_unipile_path, class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/admin/settings/unipile</span>
              <% end %>
            </li>
            <li>
              <%= link_to admin_settings_stripe_path, class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/admin/settings/stripe</span>
              <% end %>
            </li>
            <li>
              <%= link_to admin_settings_openai_path, class: "text-blue-600 hover:underline" do %>
                <code class="bg-gray-100 px-2 py-1 rounded text-xs">GET</code>
                <span class="ml-2">/admin/settings/openai</span>
              <% end %>
            </li>
          </ul>
        </div>
      </div>

    </div>

    <!-- Webhooks Section -->
    <div class="bg-white rounded-xl shadow-lg border-2 border-blue-500 p-8 mt-8">
      <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center">
        <span class="text-2xl mr-3">üîå</span> Webhooks (API)
      </h2>
      
      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <h3 class="font-semibold text-gray-900 mb-3">Unipile (WhatsApp)</h3>
          <ul class="space-y-2 text-sm">
            <li>
              <code class="bg-green-100 px-2 py-1 rounded text-xs">POST</code>
              <span class="ml-2 text-gray-700">/webhooks/unipile/messages</span>
            </li>
            <li>
              <code class="bg-green-100 px-2 py-1 rounded text-xs">POST</code>
              <span class="ml-2 text-gray-700">/webhooks/unipile/accounts</span>
            </li>
          </ul>
        </div>
        
        <div>
          <h3 class="font-semibold text-gray-900 mb-3">Stripe (Paiements)</h3>
          <ul class="space-y-2 text-sm">
            <li>
              <code class="bg-green-100 px-2 py-1 rounded text-xs">POST</code>
              <span class="ml-2 text-gray-700">/webhooks/stripe</span>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="text-center mt-12 text-gray-500 text-sm">
      <p>üìö Documentation compl√®te : <strong>/mockups</strong></p>
      <p class="mt-2">Bot-First Architecture - WhatsApp + Magic Links</p>
    </div>

  </div>
</div>
