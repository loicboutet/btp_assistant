<% content_for :title, "Mockups - Bot-First Architecture" %>

<div class="min-h-screen bg-gray-50 py-12 px-4">
  <div class="max-w-6xl mx-auto">
    
    <!-- Header -->
    <div class="text-center mb-12">
      <div class="inline-block mb-4">
        <div class="w-20 h-20 bg-green-500 rounded-full flex items-center justify-center shadow-lg">
          <svg class="w-12 h-12 text-white" fill="currentColor" viewBox="0 0 24 24">
            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
          </svg>
        </div>
      </div>
      <h1 class="text-4xl font-bold text-gray-900 mb-3">Mockup Explorer</h1>
      <p class="text-xl text-gray-600 mb-2">Architecture Bot-First Ultra-SimplifiÃ©e</p>
      <p class="text-sm text-gray-500">WhatsApp comme interface principale - Web en consultation seulement</p>
    </div>

    <!-- Core Principle -->
    <div class="bg-gradient-to-r from-green-600 to-green-700 text-white rounded-2xl p-8 mb-12 shadow-xl">
      <h2 class="text-3xl font-bold mb-4">ğŸ¯ Principe Fondamental</h2>
      <p class="text-lg mb-6 opacity-95">
        L'utilisateur <strong>n'a PAS de compte web</strong>. Il utilise <strong>uniquement WhatsApp</strong>. 
        Le web sert juste Ã  <strong>consulter/tÃ©lÃ©charger les PDF</strong> via magic link.
      </p>
      <div class="grid md:grid-cols-3 gap-4 text-sm">
        <div class="bg-white bg-opacity-10 rounded-lg p-4">
          <div class="font-semibold mb-2">âŒ Pas de :</div>
          <ul class="space-y-1 opacity-90">
            <li>â€¢ Inscription web</li>
            <li>â€¢ Mot de passe</li>
            <li>â€¢ QR code</li>
            <li>â€¢ Connexion WhatsApp</li>
            <li>â€¢ Dashboard avec KPIs</li>
            <li>â€¢ Gestion conversations</li>
            <li>â€¢ Profil complexe</li>
          </ul>
        </div>
        <div class="bg-white bg-opacity-10 rounded-lg p-4">
          <div class="font-semibold mb-2">âœ… Juste :</div>
          <ul class="space-y-1 opacity-90">
            <li>â€¢ Liste devis (index + show)</li>
            <li>â€¢ Liste factures (index + show)</li>
            <li>â€¢ Download PDF</li>
            <li>â€¢ Magic link (auto-login)</li>
            <li>â€¢ Abonnement â†’ Stripe</li>
          </ul>
        </div>
        <div class="bg-white bg-opacity-10 rounded-lg p-4">
          <div class="font-semibold mb-2">ğŸ“± WhatsApp pour :</div>
          <ul class="space-y-1 opacity-90">
            <li>â€¢ CrÃ©er devis/factures</li>
            <li>â€¢ Modifier infos</li>
            <li>â€¢ Ajouter clients</li>
            <li>â€¢ Recevoir PDFs</li>
            <li>â€¢ Tout le reste !</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- User Journey Mockups -->
    <div class="mb-12">
      <h2 class="text-3xl font-bold text-gray-900 mb-2">ğŸ“± Interface Utilisateur</h2>
      <p class="text-gray-600 mb-6">3 Ã©crans seulement - ultra-minimal</p>

      <div class="grid md:grid-cols-3 gap-6">
        
        <!-- Mockup 1: Success -->
        <%= link_to mockups_signup_success_path, class: "block" do %>
          <div class="bg-white rounded-xl shadow-md border-2 border-transparent hover:border-green-500 p-6 transition-all hover:shadow-lg">
            <div class="text-5xl mb-3 text-center">ğŸ‰</div>
            <h3 class="font-bold text-xl text-gray-900 mb-2 text-center">Success Page</h3>
            <p class="text-sm text-gray-600 text-center mb-4">
              AprÃ¨s paiement Stripe
            </p>
            <div class="bg-gray-50 rounded-lg p-3 text-xs text-gray-700 space-y-1">
              <div>âœ“ Gros bouton vert WhatsApp</div>
              <div>âœ“ Lien direct (pas de QR!)</div>
              <div>âœ“ Instructions 1-2-3</div>
              <div>âœ“ Liste commandes dispo</div>
            </div>
          </div>
        <% end %>

        <!-- Mockup 2: Liste -->
        <%= link_to mockups_user_quotes_list_path, class: "block" do %>
          <div class="bg-white rounded-xl shadow-md border-2 border-transparent hover:border-green-500 p-6 transition-all hover:shadow-lg">
            <div class="text-5xl mb-3 text-center">ğŸ“„</div>
            <h3 class="font-bold text-xl text-gray-900 mb-2 text-center">Liste Documents</h3>
            <p class="text-sm text-gray-600 text-center mb-4">
              Devis OU Factures
            </p>
            <div class="bg-gray-50 rounded-lg p-3 text-xs text-gray-700 space-y-1">
              <div>âœ“ Search bar simple</div>
              <div>âœ“ 2 filtres (clients, mois)</div>
              <div>âœ“ Cards avec PDF download</div>
              <div>âœ“ PAS de KPIs, PAS de metrics</div>
            </div>
          </div>
        <% end %>

        <!-- Mockup 3: Profile -->
        <%= link_to mockups_user_profile_path, class: "block" do %>
          <div class="bg-white rounded-xl shadow-md border-2 border-transparent hover:border-green-500 p-6 transition-all hover:shadow-lg">
            <div class="text-5xl mb-3 text-center">ğŸ‘¤</div>
            <h3 class="font-bold text-xl text-gray-900 mb-2 text-center">Mon Compte</h3>
            <p class="text-sm text-gray-600 text-center mb-4">
              Infos entreprise
            </p>
            <div class="bg-gray-50 rounded-lg p-3 text-xs text-gray-700 space-y-1">
              <div>âœ“ SIRET, adresse, langue</div>
              <div>âœ“ Statut abonnement</div>
              <div>âœ“ Lien Stripe Portal</div>
              <div>âœ“ Bouton WhatsApp pour aide</div>
            </div>
          </div>
        <% end %>

      </div>
    </div>

    <!-- User Flow -->
    <div class="bg-white rounded-2xl shadow-lg p-8 mb-12">
      <h2 class="text-2xl font-bold text-gray-900 mb-6">ğŸ”„ Flux Utilisateur RÃ©el</h2>
      
      <div class="space-y-6">
        <div class="flex items-start">
          <div class="flex-shrink-0 w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center font-bold mr-4">1</div>
          <div class="flex-1">
            <h4 class="font-semibold text-gray-900">WhatsApp: "Bonjour"</h4>
            <p class="text-sm text-gray-600">User message le bot â†’ Auto-crÃ©Ã© dans DB avec phone number</p>
          </div>
        </div>
        
        <div class="flex items-start">
          <div class="flex-shrink-0 w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center font-bold mr-4">2</div>
          <div class="flex-1">
            <h4 class="font-semibold text-gray-900">Bot collecte infos (conversationnel)</h4>
            <p class="text-sm text-gray-600">Nom entreprise, SIRET, adresse â†’ EnregistrÃ© en DB</p>
          </div>
        </div>
        
        <div class="flex items-start">
          <div class="flex-shrink-0 w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center font-bold mr-4">3</div>
          <div class="flex-1">
            <h4 class="font-semibold text-gray-900">Bot envoie magic link</h4>
            <p class="text-sm text-gray-600">"Voici votre accÃ¨s web: https://app.com/u/ABC123..." â†’ User peut consulter PDFs</p>
          </div>
        </div>
        
        <div class="flex items-start">
          <div class="flex-shrink-0 w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center font-bold mr-4">4</div>
          <div class="flex-1">
            <h4 class="font-semibold text-gray-900">Usage quotidien (99% WhatsApp)</h4>
            <p class="text-sm text-gray-600">"crÃ©er un devis" â†’ Bot crÃ©e â†’ PDF envoyÃ© â†’ Done. <strong>Jamais besoin du web.</strong></p>
          </div>
        </div>
      </div>
    </div>

    <!-- What Users DON'T Need -->
    <div class="bg-red-50 border-2 border-red-200 rounded-2xl p-8 mb-12">
      <h2 class="text-2xl font-bold text-red-700 mb-4">âŒ Ce que l'utilisateur N'A PAS</h2>
      <div class="grid md:grid-cols-2 gap-6 text-sm">
        <div>
          <h4 class="font-semibold text-red-800 mb-3">Pas d'interface web pour :</h4>
          <ul class="space-y-2 text-gray-700">
            <li class="flex items-start">
              <span class="text-red-500 mr-2">âœ—</span>
              <span><strong>CrÃ©er</strong> des devis/factures (WhatsApp seulement)</span>
            </li>
            <li class="flex items-start">
              <span class="text-red-500 mr-2">âœ—</span>
              <span><strong>GÃ©rer</strong> des clients (WhatsApp seulement)</span>
            </li>
            <li class="flex items-start">
              <span class="text-red-500 mr-2">âœ—</span>
              <span><strong>Voir</strong> des conversations (pas besoin)</span>
            </li>
            <li class="flex items-start">
              <span class="text-red-500 mr-2">âœ—</span>
              <span><strong>Se connecter</strong> Ã  WhatsApp (dÃ©jÃ  connectÃ©!)</span>
            </li>
          </ul>
        </div>
        <div>
          <h4 class="font-semibold text-red-800 mb-3">Pas de pages pour :</h4>
          <ul class="space-y-2 text-gray-700">
            <li class="flex items-start">
              <span class="text-red-500 mr-2">âœ—</span>
              <span>Dashboard avec KPIs/metrics</span>
            </li>
            <li class="flex items-start">
              <span class="text-red-500 mr-2">âœ—</span>
              <span>Graphs ou analytics</span>
            </li>
            <li class="flex items-start">
              <span class="text-red-500 mr-2">âœ—</span>
              <span>Gestion de profil dÃ©taillÃ©</span>
            </li>
            <li class="flex items-start">
              <span class="text-red-500 mr-2">âœ—</span>
              <span>ParamÃ¨tres/settings complexes</span>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- What Users DO Get (Web) -->
    <div class="bg-green-50 border-2 border-green-200 rounded-2xl p-8 mb-12">
      <h2 class="text-2xl font-bold text-green-700 mb-4">âœ… Ce que l'utilisateur A (Web - Minimal)</h2>
      <div class="text-sm text-gray-700">
        <p class="mb-4 text-base"><strong>L'utilisateur accÃ¨de au web UNIQUEMENT pour consulter/tÃ©lÃ©charger des PDFs dÃ©jÃ  crÃ©Ã©s via WhatsApp.</strong></p>
        
        <div class="grid md:grid-cols-2 gap-6">
          <div>
            <h4 class="font-semibold text-green-800 mb-3">Pages web (3 seulement) :</h4>
            <ul class="space-y-2">
              <li class="flex items-start">
                <span class="text-green-600 mr-2">âœ“</span>
                <span><strong>Liste devis</strong> - index + show + download PDF</span>
              </li>
              <li class="flex items-start">
                <span class="text-green-600 mr-2">âœ“</span>
                <span><strong>Liste factures</strong> - index + show + download PDF</span>
              </li>
              <li class="flex items-start">
                <span class="text-green-600 mr-2">âœ“</span>
                <span><strong>Info compte</strong> - SIRET, adresse, abonnement</span>
              </li>
            </ul>
          </div>
          <div>
            <h4 class="font-semibold text-green-800 mb-3">Authentification :</h4>
            <ul class="space-y-2">
              <li class="flex items-start">
                <span class="text-green-600 mr-2">âœ“</span>
                <span>Magic link (envoyÃ© sur WhatsApp)</span>
              </li>
              <li class="flex items-start">
                <span class="text-green-600 mr-2">âœ“</span>
                <span>Un clic â†’ Auto-connectÃ©</span>
              </li>
              <li class="flex items-start">
                <span class="text-green-600 mr-2">âœ“</span>
                <span>Pas de login/password</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Mockups -->
    <div class="grid md:grid-cols-3 gap-6 mb-12">
      
      <%= link_to mockups_signup_success_path, class: "block" do %>
        <div class="bg-white rounded-xl shadow-md border-2 border-transparent hover:border-green-500 p-6 transition-all">
          <div class="text-5xl mb-3 text-center">ğŸ‰</div>
          <h3 class="font-bold text-lg text-center mb-3">Success Page</h3>
          <div class="text-xs text-gray-600 space-y-1">
            <div>â†’ Gros bouton WhatsApp</div>
            <div>â†’ "Ouvrir WhatsApp" direct</div>
            <div>â†’ PAS de QR code</div>
          </div>
        </div>
      <% end %>

      <%= link_to mockups_user_quotes_list_path, class: "block" do %>
        <div class="bg-white rounded-xl shadow-md border-2 border-transparent hover:border-green-500 p-6 transition-all">
          <div class="text-5xl mb-3 text-center">ğŸ“„</div>
          <h3 class="font-bold text-lg text-center mb-3">Liste Documents</h3>
          <div class="text-xs text-gray-600 space-y-1">
            <div>â†’ Search + 2 filtres</div>
            <div>â†’ Download PDF</div>
            <div>â†’ PAS de crÃ©ation web</div>
          </div>
        </div>
      <% end %>

      <%= link_to mockups_user_profile_path, class: "block" do %>
        <div class="bg-white rounded-xl shadow-md border-2 border-transparent hover:border-green-500 p-6 transition-all">
          <div class="text-5xl mb-3 text-center">â„¹ï¸</div>
          <h3 class="font-bold text-lg text-center mb-3">Infos Compte</h3>
          <div class="text-xs text-gray-600 space-y-1">
            <div>â†’ SIRET, adresse</div>
            <div>â†’ Abonnement status</div>
            <div>â†’ Lien Stripe Portal</div>
          </div>
        </div>
      <% end %>

    </div>

    <!-- Admin (unchanged) -->
    <div class="mb-12">
      <h2 class="text-3xl font-bold text-gray-900 mb-6">ğŸ‘¨â€ğŸ’¼ Interface Admin</h2>
      <div class="grid md:grid-cols-3 gap-4">
        <%= link_to mockups_admin_dashboard_path, class: "block bg-white rounded-xl p-6 shadow-md hover:shadow-lg border-2 border-transparent hover:border-purple-500 transition" do %>
          <div class="text-4xl mb-2 text-center">ğŸ“Š</div>
          <h3 class="font-bold text-center">Dashboard</h3>
        <% end %>
        <%= link_to mockups_admin_users_path, class: "block bg-white rounded-xl p-6 shadow-md hover:shadow-lg border-2 border-transparent hover:border-purple-500 transition" do %>
          <div class="text-4xl mb-2 text-center">ğŸ‘¥</div>
          <h3 class="font-bold text-center">Utilisateurs</h3>
        <% end %>
        <%= link_to mockups_admin_analytics_path, class: "block bg-white rounded-xl p-6 shadow-md hover:shadow-lg border-2 border-transparent hover:border-purple-500 transition" do %>
          <div class="text-4xl mb-2 text-center">ğŸ“ˆ</div>
          <h3 class="font-bold text-center">Analytics</h3>
        <% end %>
      </div>
    </div>

    <!-- Routes Count -->
    <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
      <h2 class="text-2xl font-bold text-gray-900 mb-6">ğŸ—ºï¸ Routes Ultra-SimplifiÃ©es</h2>
      <div class="grid md:grid-cols-2 gap-8">
        <div>
          <h4 class="font-semibold text-gray-900 mb-4">Utilisateur (10 routes seulement!)</h4>
          <div class="space-y-2 text-sm text-gray-700">
            <div class="flex justify-between py-1">
              <span>Magic link entry</span>
              <code class="text-xs bg-gray-100 px-2 py-1 rounded">GET /u/:token</code>
            </div>
            <div class="flex justify-between py-1">
              <span>Quotes index</span>
              <code class="text-xs bg-gray-100 px-2 py-1 rounded">GET /quotes</code>
            </div>
            <div class="flex justify-between py-1">
              <span>Quote show</span>
              <code class="text-xs bg-gray-100 px-2 py-1 rounded">GET /quotes/:id</code>
            </div>
            <div class="flex justify-between py-1">
              <span>Quote PDF</span>
              <code class="text-xs bg-gray-100 px-2 py-1 rounded">GET /quotes/:id/pdf</code>
            </div>
            <div class="flex justify-between py-1">
              <span>Invoices index</span>
              <code class="text-xs bg-gray-100 px-2 py-1 rounded">GET /invoices</code>
            </div>
            <div class="flex justify-between py-1">
              <span>Invoice show</span>
              <code class="text-xs bg-gray-100 px-2 py-1 rounded">GET /invoices/:id</code>
            </div>
            <div class="flex justify-between py-1">
              <span>Invoice PDF</span>
              <code class="text-xs bg-gray-100 px-2 py-1 rounded">GET /invoices/:id/pdf</code>
            </div>
            <div class="flex justify-between py-1">
              <span>Profile</span>
              <code class="text-xs bg-gray-100 px-2 py-1 rounded">GET /profile</code>
            </div>
            <div class="flex justify-between py-1">
              <span>Subscription portal</span>
              <code class="text-xs bg-gray-100 px-2 py-1 rounded">POST /subscription/portal</code>
            </div>
            <div class="flex justify-between py-1">
              <span>Logout</span>
              <code class="text-xs bg-gray-100 px-2 py-1 rounded">DELETE /logout</code>
            </div>
          </div>
        </div>
        <div>
          <h4 class="font-semibold text-gray-900 mb-4">Webhooks (2 routes)</h4>
          <div class="space-y-2 text-sm text-gray-700 mb-6">
            <div class="flex justify-between py-1">
              <span>Unipile messages</span>
              <code class="text-xs bg-gray-100 px-2 py-1 rounded">POST /webhooks/unipile</code>
            </div>
            <div class="flex justify-between py-1">
              <span>Stripe payments</span>
              <code class="text-xs bg-gray-100 px-2 py-1 rounded">POST /webhooks/stripe</code>
            </div>
          </div>
          
          <h4 class="font-semibold text-gray-900 mb-4">Admin (~20 routes)</h4>
          <p class="text-sm text-gray-600">Gestion complÃ¨te des users, abonnements, logs, settings</p>
        </div>
      </div>
      
      <div class="mt-6 bg-green-100 rounded-lg p-4">
        <p class="text-sm font-semibold text-green-800">
          Total: ~32 routes (vs 72 initial plan = -56% !)
        </p>
      </div>
    </div>

    <!-- Documentation -->
    <div class="bg-white rounded-2xl shadow-lg p-8">
      <h2 class="text-2xl font-bold text-gray-900 mb-6">ğŸ“š Documentation</h2>
      <div class="grid md:grid-cols-3 gap-4">
        <a href="https://github.com/loicboutet/btp_assistant/blob/main/doc/architecture_bot_first.md" 
           target="_blank"
           class="block p-6 bg-blue-50 hover:bg-blue-100 rounded-xl border-2 border-blue-200 transition text-center">
          <div class="text-4xl mb-2">ğŸ“˜</div>
          <div class="font-semibold">Architecture</div>
        </a>
        <a href="https://github.com/loicboutet/btp_assistant/blob/main/doc/routes.md" 
           target="_blank"
           class="block p-6 bg-green-50 hover:bg-green-100 rounded-xl border-2 border-green-200 transition text-center">
          <div class="text-4xl mb-2">ğŸ—ºï¸</div>
          <div class="font-semibold">Routes</div>
        </a>
        <a href="https://github.com/loicboutet/btp_assistant/blob/main/doc/data_model.md" 
           target="_blank"
           class="block p-6 bg-purple-50 hover:bg-purple-100 rounded-xl border-2 border-purple-200 transition text-center">
          <div class="text-4xl mb-2">ğŸ“Š</div>
          <div class="font-semibold">Data Model</div>
        </a>
      </div>
    </div>

  </div>
</div>
