<% content_for :title, "Créer un compte - Devis WhatsApp" %>

<!-- Page Title -->
<div style="text-align: center; margin-bottom: var(--spacing-sm);">
  <h1 style="font-size: var(--font-size-xl); font-weight: var(--font-weight-bold); color: var(--text-dark); margin-bottom: 0.25rem;">
    Créer un compte
  </h1>
  <p style="font-size: var(--font-size-sm); color: var(--text-gray);">
    Rejoignez Devis WhatsApp pour gérer vos devis facilement
  </p>
</div>

<!-- Registration Form -->
<%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
  <%= render "devise/shared/error_messages", resource: resource %>

  <!-- First Name and Last Name -->
  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-sm);" class="responsive-grid">
    <div class="form-group">
      <%= f.label :first_name, "Prénom", class: "form-label" %>
      <%= f.text_field :first_name, autofocus: true, autocomplete: "given-name", 
          class: "form-input", 
          placeholder: "Votre prénom" %>
    </div>

    <div class="form-group">
      <%= f.label :last_name, "Nom", class: "form-label" %>
      <%= f.text_field :last_name, autocomplete: "family-name", 
          class: "form-input", 
          placeholder: "Votre nom" %>
    </div>
  </div>

  <!-- Email and WhatsApp Phone Number -->
  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-sm);" class="responsive-grid">
    <div class="form-group">
      <%= f.label :email, "Adresse e-mail", class: "form-label" %>
      <%= f.email_field :email, autocomplete: "email", 
          class: "form-input", 
          placeholder: "votre@email.com" %>
    </div>

    <div class="form-group">
      <%= f.label :whatsapp_phone, "Numéro WhatsApp", class: "form-label" %>
      <%= f.telephone_field :whatsapp_phone, autocomplete: "tel", 
          class: "form-input", 
          placeholder: "+33 6 12 34 56 78" %>
    </div>
  </div>

  <!-- Company Name and SIRET Number -->
  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-sm);" class="responsive-grid">
    <div class="form-group">
      <%= f.label :company_name, "Nom de l'entreprise", class: "form-label" %>
      <%= f.text_field :company_name, autocomplete: "organization", 
          class: "form-input", 
          placeholder: "Nom de votre entreprise" %>
    </div>

    <div class="form-group">
      <%= f.label :siret, "Numéro SIRET", class: "form-label" %>
      <%= f.text_field :siret, autocomplete: "off", 
          class: "form-input", 
          placeholder: "123 456 789 00012" %>
    </div>
  </div>

  <!-- Address -->
  <div class="form-group">
    <%= f.label :address, "Adresse", class: "form-label" %>
    <%= f.text_area :address, autocomplete: "street-address", 
        class: "form-input", 
        rows: 2,
        placeholder: "Adresse complète de l'entreprise" %>
  </div>

  <!-- VAT Number and Preferred Language -->
  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-sm);" class="responsive-grid">
    <div class="form-group">
      <%= f.label :vat_number, "Numéro de TVA (optionnel)", class: "form-label" %>
      <%= f.text_field :vat_number, autocomplete: "off", 
          class: "form-input", 
          placeholder: "FR 12 345678901" %>
    </div>

    <div class="form-group">
      <%= f.label :preferred_language, "Langue préférée", class: "form-label" %>
      <%= f.select :preferred_language, 
          [["Français", "fr"], ["Türkçe", "tr"]], 
          { selected: "fr" },
          { class: "form-select" } %>
    </div>
  </div>

  <!-- Password and Password Confirmation -->
  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-sm);" class="responsive-grid">
    <div class="form-group">
      <%= f.label :password, "Mot de passe", class: "form-label" %>
      <%= f.password_field :password, autocomplete: "new-password", 
          class: "form-input", 
          placeholder: "Choisissez un mot de passe sécurisé" %>
      <% if @minimum_password_length %>
        <span class="form-hint" style="display: block; margin-top: 0.25rem;">
          (<%= @minimum_password_length %> caractères minimum)
        </span>
      <% end %>
    </div>

    <div class="form-group">
      <%= f.label :password_confirmation, "Confirmation du mot de passe", class: "form-label" %>
      <%= f.password_field :password_confirmation, autocomplete: "new-password", 
          class: "form-input", 
          placeholder: "Confirmez votre mot de passe" %>
    </div>
  </div>

  <!-- Submit Button -->
  <div class="form-group" style="display: flex; justify-content: center;">
    <%= f.submit "Créer mon compte", class: "btn btn-primary", style: "width: 50%; max-width: 300px;" %>
  </div>
<% end %>

<!-- Additional Links -->
<div style="margin-top: var(--spacing-sm); text-align: center;">
  <p style="font-size: var(--font-size-sm); color: var(--text-gray);">
    Vous avez déjà un compte ? 
    <%= link_to "Se connecter", new_session_path(resource_name), class: "text-link" %>
  </p>
</div>
